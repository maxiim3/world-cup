import React from "react"
import ReactDOM from "react-dom/client"
import "./sass/App.css"
import {App} from "./ts/App/App"
import {Tools} from "./ts/Misc/Utils/Tools"

const $link = document.createElement("link") as HTMLLinkElement
$link.rel = "stylesheet"
$link.href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
$link.integrity = "sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
$link.crossOrigin = "anonymous"
$link.referrerPolicy = "no-referrer"
document.head.append($link)

const mainRoot = ReactDOM.createRoot(document.getElementById("main__root") as HTMLElement)
const headerRoot = ReactDOM.createRoot(document.getElementById("header__root") as HTMLElement)

;(() => localStorage.clear())()
;(function() {
	localStorage.setItem("groups", "")
	localStorage.setItem("eighthFinal", "")
	localStorage.setItem("quarterFinal", "")
	localStorage.setItem("semiFinal", "")
	localStorage.setItem("final", "")
	localStorage.setItem("winner", "")
})()

const clickOnLoad = async () => {
	const load = async (ms: number) => {
		await Tools.Pause(ms)
		const btn: HTMLButtonElement = document.querySelector(
			".changeRoundBtn:not([data-disabled =\"true\"])",
		) as HTMLButtonElement
		btn && btn.click()
	}

	for (let i = 0; i < 6; i++) {
		await load(350)
	}

	window.scrollTo({behavior: "smooth", top: 9000})
}
/*const firstTeam = new TeamModel(Teams[12], "A")
 const secondTeam = new TeamModel(Teams[20], "A")

 const match = new MatchModel([firstTeam, secondTeam])
 match.runEliminationMatch()*/

headerRoot.render(
	<React.StrictMode>
		<svg
			id={"ballIcon"}
			viewBox="0 0 512 512"
			fill="none"
			xmlns="http://www.w3.org/2000/svg">
			<path
				d="M256 48C141.31 48 48 141.31 48 256C48 370.69 141.31 464 256 464C370.69 464 464 370.69 464 256C464 141.31 370.69 48 256 48ZM399 352H353.78C352.379 351.997 351.003 351.626 349.79 350.924C348.578 350.222 347.571 349.213 346.87 348L330.73 320.32C329.667 318.51 329.359 316.355 329.87 314.32L344.73 254.4C345.028 253.193 345.604 252.071 346.411 251.125C347.218 250.179 348.235 249.434 349.38 248.95L377.48 237.05C378.853 236.468 380.362 236.281 381.835 236.511C383.309 236.74 384.689 237.377 385.82 238.35L427.45 274.17C428.476 275.054 429.261 276.183 429.732 277.453C430.202 278.723 430.343 280.091 430.14 281.43C426.692 305.083 418.429 327.778 405.86 348.11C405.15 349.296 404.145 350.277 402.943 350.959C401.74 351.641 400.382 351.999 399 352ZM134.52 237.13L162.62 249.03C163.765 249.514 164.782 250.259 165.589 251.205C166.396 252.151 166.972 253.273 167.27 254.48L182.13 314.4C182.641 316.435 182.333 318.59 181.27 320.4L165.13 348C164.429 349.213 163.422 350.222 162.21 350.924C160.997 351.626 159.621 351.997 158.22 352H113C111.632 352.001 110.287 351.651 109.093 350.984C107.899 350.317 106.896 349.355 106.18 348.19C93.6114 327.858 85.3477 305.163 81.9 281.51C81.6973 280.171 81.8378 278.803 82.3082 277.533C82.7787 276.263 83.5638 275.134 84.59 274.25L126.22 238.43C127.347 237.465 128.72 236.832 130.186 236.603C131.651 236.373 133.152 236.556 134.52 237.13V237.13ZM391.46 149.89L373.39 201.27C373.027 202.32 372.449 203.283 371.693 204.097C370.937 204.912 370.02 205.56 369 206L339.42 218.53C338.063 219.104 336.573 219.292 335.115 219.074C333.658 218.855 332.289 218.238 331.16 217.29L274.9 170.1C274.001 169.356 273.276 168.425 272.775 167.371C272.274 166.317 272.009 165.167 272 164V130.42C272.001 129.104 272.326 127.809 272.947 126.649C273.568 125.489 274.466 124.5 275.56 123.77L318.39 95.23C319.508 94.4839 320.795 94.0315 322.134 93.9144C323.473 93.7973 324.82 94.0193 326.05 94.56C350.694 105.309 372.565 121.533 390 142C390.917 143.07 391.534 144.363 391.791 145.749C392.047 147.134 391.933 148.563 391.46 149.89V149.89ZM193.6 95.23L236.44 123.77C237.534 124.5 238.432 125.489 239.053 126.649C239.674 127.809 239.999 129.104 240 130.42V164C240 165.169 239.744 166.323 239.25 167.382C238.756 168.441 238.036 169.379 237.14 170.13L180.88 217.32C179.751 218.268 178.382 218.885 176.925 219.104C175.467 219.322 173.977 219.134 172.62 218.56L143 206C141.973 205.565 141.049 204.921 140.286 204.108C139.523 203.295 138.939 202.332 138.57 201.28L120.5 149.9C120.03 148.568 119.922 147.135 120.185 145.748C120.449 144.36 121.075 143.067 122 142C139.445 121.512 161.334 105.274 186 94.52C187.226 93.9958 188.563 93.7861 189.89 93.9101C191.217 94.0341 192.493 94.4878 193.6 95.23V95.23ZM210.91 422.69L191.18 373C190.729 371.87 190.541 370.653 190.631 369.44C190.721 368.227 191.087 367.05 191.7 366L206.87 340C207.571 338.787 208.578 337.778 209.79 337.076C211.003 336.374 212.379 336.003 213.78 336H298.22C299.621 336.003 300.997 336.374 302.21 337.076C303.422 337.778 304.429 338.787 305.13 340L320.31 366C320.925 367.05 321.292 368.226 321.384 369.439C321.476 370.652 321.29 371.87 320.84 373L301.25 422.67C300.771 423.884 300.002 424.963 299.01 425.812C298.018 426.661 296.834 427.254 295.56 427.54C269.565 433.506 242.555 433.506 216.56 427.54C215.296 427.25 214.121 426.657 213.136 425.812C212.152 424.967 211.388 423.896 210.91 422.69V422.69Z" />
		</svg>

		<h1 className={"competition__title"}>World Cup 2022</h1>
		<button
			onClick={() =>
				window.scrollTo({
									behavior: "smooth",
									top: document?.getElementById("main__root")?.offsetTop,
								})
			}>
			Go to simulation
		</button>
	</React.StrictMode>,
)
mainRoot.render(
	<React.StrictMode>
		<App />
	</React.StrictMode>,
)

// clickOnLoad().catch()
